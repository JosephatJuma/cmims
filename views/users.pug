include ./includes/head.pug
link(rel="stylesheet" href="/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css")
link(rel="stylesheet" href="/plugins/datatables-responsive/css/responsive.bootstrap4.min.css")
link(rel="stylesheet" href="/plugins/datatables-buttons/css/buttons.bootstrap4.min.css")
.wrapper
  .preloader.flex-column.justify-content-center.align-items-center
    img.animation__shake(src='/dist/img/AdminLTELogo.png' alt='AdminLTELogo' height='60' width='60')
  include ./includes/navbar.pug
  include ./includes/sidebar.pug
  .content-wrapper
    .container-fluid
      .row.mb-2
        .col-sm-6
          h4 All Users
        .col-sm-6
          ol.breadcrumb.float-sm-right
            li.breadcrumb-item
              a(href='/') Home
            li.breadcrumb-item.active Users Table
    section.content
     .container-fluid
      .row
       .col-12
        .card
          .card-header
            h3.card-title List of users added
          // /.card-header
          .card-body
           if users.length>0
             table#example1.table.table-bordered.table-striped.table-hover
              thead
                tr
                  th User Id
                  th Name
                  th Email
                  th Phone
                  th Role
                  th Date Added
                  th Work Station
                  th Accessed
                  th Action
              tbody
                each user in users  
                    tr.btn
                      td #{user.id}
                      td #{user.name}
                      td #{user.email}
                      td #{user.phone_number} 
                      td #{user.user_role} 
                      td #{user.date_added}
                      td #{user.work_station} 
                      td #{user.accessed}  
                      td 
                        a(href=`/user/profile/${user._id}`) 
                          .btn()
                            i.fa.fa-link  
          
             
  include ./includes/components/alert-logout.pug                
  include ./includes/footer.pug
include ./includes/scripts.pug

script(src="/plugins/datatables/jquery.dataTables.min.js")
script(src="/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js")
script(src="/plugins/datatables-responsive/js/dataTables.responsive.min.js")
script(src="/plugins/datatables-responsive/js/responsive.bootstrap4.min.js")
script(src="/plugins/datatables-buttons/js/dataTables.buttons.min.js")
script(src="/plugins/datatables-buttons/js/buttons.bootstrap4.min.js")
script(src="/plugins/jszip/jszip.min.js")
script(src="/plugins/pdfmake/pdfmake.min.js")
script(src="/plugins/pdfmake/vfs_fonts.js")
script(src="/plugins/datatables-buttons/js/buttons.html5.min.js")
script(src="/plugins/datatables-buttons/js/buttons.print.min.js")
script(src="/plugins/datatables-buttons/js/buttons.colVis.min.js")
script.
  $(function () {
    $("#example1").DataTable({
      "responsive": true, "lengthChange": false, "autoWidth": false,
      "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
    }).buttons().container().appendTo('#example1_wrapper .col-md-6:eq(0)');
    $('#example2').DataTable({
      "paging": true,
      "lengthChange": false,
      "searching": false,
      "ordering": true,
      "info": true,
      "autoWidth": false,
      "responsive": true,
    });
  });
